!function(){"use strict";function t(){s=new Hammer(a),s.on("panleft panright",function(t){return 4===t.eventType?(c.animate({left:0,top:0},100),void 0):(t.deltaX<-100&&(s.off("panleft panright tap press swipeleft swiperight"),$.getJSON(window.apiUrl+"/food/dislike/"+n[o].id+"/"+window.username+"/"),e(!1)),t.deltaX>100&&(s.off("panleft panright tap press swipeleft swiperight"),$.getJSON(window.apiUrl+"/food/like/"+n[o].id+"/"+window.username+"/"),e(!0)),c.css({left:t.deltaX}),clearTimeout(d),d=setTimeout(function(){c.animate({left:0,top:0},100)},500),void 0)})}function e(e){var n="-100%";e&&(n="100%"),c.animate({left:n,top:0,opacity:0},500,function(){i(++o),c.css({left:0,opacity:1}),t()})}function i(t){t>n.length-1||(c.attr("src","images/"+n[t].photo),t+1!==n.length&&(r.attr("src","images/"+n[t+1].photo),r.css("background-image","url(images/"+n[t+2].photo+")")))}var n,o=0,a=document.getElementById("cant-decide-photo"),c=$("#cant-decide-photo img"),r=$("#cant-decide-photo2 img");$("#cant-decide-photo img #cant-decide-photo2 img").css({height:$(".modal.short").width()}),$(".modal.short").css({height:$(".modal.short").width()+50+"px"});var s=new Hammer(a);t();var d;$("#cant-decide").click(function(){$.getJSON(window.apiUrl+"/food/list/"+window.username+"/?explore=true",function(t){n=t,i(o)}),$(".instructions").fadeToggle(),$(".dismiss-button").click(function(){$(".instructions").fadeOut()})}),$("#done-screening-btn").click(function(){var t=$(".main-div").children().first().attr("class");$("."+t).shuffle(),$("#modal-cant-decide .modal").animate({marginTop:900},300,function(){$("#modal-cant-decide").removeClass("open")})}),function(t){t.fn.shuffle=function(){var e=this.get(),i=function(t){return Math.floor(Math.random()*t)},n=t.map(e,function(){var n=i(e.length),o=t(e[n]).clone(!0)[0];return e.splice(n,1),o});return this.each(function(e){t(this).replaceWith(t(n[e]))}),t(n)}}(jQuery)}();