!function(){"use strict";function t(){$(".get-there-button").click(function(t){var i=$(this).data("id");window.location="directions.html?id="+i,t.stopPropagation()})}function i(i){$.getJSON(window.apiUrl+"/restaurants/list/"+window.username+"/?following=true"+i,function(t){return s=t,console.log(t),$(".mapview").hasClass("listview")?($(".main-div").html(n({restaurants:t})),void 0):(showMap(s),void 0)}).done(function(){t()})}var s,a=$("#restaurant-template").html(),n=Handlebars.compile(a);$(".mapview").click(function(){return $(this).toggleClass("listview"),$(this).hasClass("listview")?($(this).html('<img src="images/icons/map-view.svg" />'),$(".main-div").html(n({restaurants:s})).promise().done(function(){t()}),void 0):($(this).html('<i class="fa fa-th-list fa-2x"></i>'),showMap(s),void 0)}),$(".modal .main-buttons #filters").click(function(){var t=getSearchQueryRestaurant();i(t)}),i("")}();