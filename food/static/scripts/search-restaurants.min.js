function getSearchQueryRestaurant(){"use strict";var e="",i="",t=[],a=[],n=[];if($(".sort-filters .filter-icon").each(function(){$(this).hasClass("selected")&&(e=$(this).data("value"))}),i+="&sort="+e,$(".dietary-filters .filter-icon").each(function(){$(this).hasClass("selected")&&t.push($(this).data("id"))}),i+="&dietary_ids="+t.join(),$(".cuisine-filters .filter-icon").each(function(){$(this).hasClass("selected")&&a.push($(this).data("id"))}),i+="&cuisine_ids="+a.join(),$(".amenity-filters .filter-icon").each(function(){$(this).hasClass("selected")&&n.push($(this).data("id"))}),i+="&amenity_ids="+n.join(),$(".other-filters .filter-icon").each(function(){$(this).hasClass("selected")&&(i+="&"+$(this).data("value")+"=true")}),"< "!==$("#price-range .min").text()){var r=$("#price-range .min").text();r=r.substring(1,r.length),i+="&price_min="+r}var s=$("#price-range .max").text();"+"!==s.substring(s.length-1,s.length)&&(s=s.substring(1,s.length),i+="&price_max="+s);var c=$("#distance-range .min").text();"Within "!==c&&(c=c.substring(0,c.length-3),i+="&distance_min="+c);var l=$("#distance-range .max").text();"+"!==l.substring(l.length-1,l.length)&&(l=l.substring(0,l.length-3),i+="&distance_max="+l);var d=$("#search");return d.val()&&(i+="&search="+d.val()),console.log(i),i}!function(){"use strict";function e(){$.getJSON(window.apiUrl+"/filters/list/",function(e){if("food"!==getParameterByName("type")&&"people"!==getParameterByName("type")){$("#modal-filters .modal .filter-area").html(t(e)).promise().done(function(){i()}),$("#modal-filters .modal .filter-area").html()||$(".main-div").html(t(e)),$(".filter-icon.sort").click(function(){$(".filter-icon.sort").removeClass("selected"),$(this).addClass("selected")}),$(".filter-icon.union").click(function(){$(this).toggleClass("selected")}),$("#price-slider").noUiSlider({start:[0,40],connect:!0,range:{min:0,max:60},format:wNumb({mark:",",decimals:0,prefix:"$"})}),$("#price-slider").Link("lower").to($("#price-range .min")),$("#price-slider").Link("upper").to($("#price-range .max")),$("#price-range .min").text("< "),$("#price-range .hyphen").hide(),$("#price-slider").on({slide:function(){"$0"===$("#price-range .min").text()?($("#price-range .min").text("< "),$("#price-range .hyphen").hide()):"< "!==$("#price-range .min").text()&&$("#price-range .hyphen").show(),"$60"===$("#price-range .max").text()&&$("#price-range .max").text("$60+")}}),$("#distance-slider").noUiSlider({start:[0,20],connect:!0,range:{min:0,max:30},format:wNumb({mark:".",decimals:1,postfix:" km"})}),$("#distance-slider").Link("lower").to($("#distance-range .min")),$("#distance-slider").Link("upper").to($("#distance-range .max")),$("#distance-range .min").text("Within "),$("#distance-range .hyphen").hide(),$("#distance-slider").on({slide:function(){"0.0 km"===$("#distance-range .min").text()?($("#distance-range .min").text("Within "),$("#distance-range .hyphen").hide()):"Within "!==$("#distance-range .min").text()&&$("#distance-range .hyphen").show(),"30.0 km"===$("#distance-range .max").text()&&$("#distance-range .max").text("30.0 km+")}});for(var a=4;12>a;a++)$(".cuisine-filters .filter-icon:eq("+a+")").hide();$(".more-cuisines").click(function(){$(".cuisine-filters .filter-icon").show(),$(this).hide()});for(var n=4;8>n;n++)$(".amenity-filters .filter-icon:eq("+n+")").hide();$(".more-amenities").click(function(){$(".amenity-filters .filter-icon").show(),$(this).hide()});for(var r=3;8>r;r++)$(".other-filters .filter-icon:eq("+r+")").hide();$(".more-other").click(function(){$(".other-filters .filter-icon").show(),$(this).hide()})}})}function i(){if("/restaurants-recommended.html"===window.location.pathname)return $(".other-filters .filter-icon").each(function(){var e=$(this).data("value");"recommended"===e&&$(this).addClass("selected")}),void 0;if("/restaurant-following.html"===window.location.pathname)return $(".other-filters .filter-icon").each(function(){var e=$(this).data("value");"following"===e&&$(this).addClass("selected")}),void 0;if(0!==window.location.search.substring(1).length){var e=getParameterByName("sort");e.length&&$(".sort-filters .filter-icon").each(function(){$(this).data("value")===e&&$(this).addClass("selected")});var i=getParameterByName("dietary_ids");i.length&&(i=i.split(","),$(".dietary-filters .filter-icon").each(function(){-1!==i.indexOf($(this).data("id").toString())&&$(this).addClass("selected")}));var t=getParameterByName("cuisine_ids");t.length&&(t=t.split(","),$(".cuisine-filters .filter-icon").each(function(){-1!==t.indexOf($(this).data("id").toString())&&$(this).addClass("selected")}));var a=getParameterByName("amenity_ids");a.length&&(a=a.split(","),$(".amenity-filters .filter-icon").each(function(){-1!==a.indexOf($(this).data("id").toString())&&$(this).addClass("selected")})),$(".other-filters .filter-icon").each(function(){var e=$(this).data("value");getParameterByName(e)&&$(this).addClass("selected")}),getParameterByName("distance_min")?($("#distance-slider").val([parseInt(getParameterByName("distance_min")),null]),$("#distance-range .hyphen").show()):($("#distance-slider").val([0,null]),$("#distance-range .min").text("Within "),$("#distance-range .hyphen").hide()),getParameterByName("distance_max")?$("#distance-slider").val([null,parseInt(getParameterByName("distance_max"))]):($("#distance-slider").val([null,30]),$("#distance-range .max").text("30.0 km+")),getParameterByName("price_min")?($("#price-slider").val([parseInt(getParameterByName("price_min")),null]),$("#price-range .hyphen").show()):($("#price-slider").val([0,null]),$("#price-range .min").text("< "),$("#price-range .hyphen").hide()),getParameterByName("price_max")?$("#price-slider").val([null,parseInt(getParameterByName("price_max"))]):($("#price-slider").val([null,60]),$("#price-range .max").text("$60+"))}}var t;$.ajax({url:"restaurant-filter.html",success:function(e){t=Handlebars.compile(e)}}).always(function(){e()}),$(".main-buttons .submit-search-redirect").click(function(){var e=getSearchQueryRestaurant();window.location="search-results.html?type=restaurants"+e}),$("#search").keyup(function(e){13===e.keyCode&&($(".main-buttons .submit-search").click(),$(".main-buttons .submit-search-redirect").click(),$(this).blur())})}();