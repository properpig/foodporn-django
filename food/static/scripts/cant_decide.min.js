!function(){"use strict";function t(t){var e="-100%";t&&(e="100%"),c.animate({left:e,top:0,opacity:0},500,function(){n(++i),c.css({left:0,opacity:1})})}function n(t){t>e.length-1||(c.attr("src","images/"+e[t].photo),t+1!==e.length&&(a.attr("src","images/"+e[t+1].photo),a.css("background-image","url(images/"+e[t+2].photo+")")))}var e,i=0,o=document.getElementById("cant-decide-photo"),c=$("#cant-decide-photo img"),a=$("#cant-decide-photo2 img");$("#cant-decide-photo img #cant-decide-photo2 img").css({height:$(".modal.short").width()}),$(".modal.short").css({height:$(".modal.short").width()+50+"px"});var d=new Hammer(o);d.on("panleft panright",function(t){t.deltaX<-100&&t.deltaX>100||(c.css({left:t.deltaX}),4===t.eventType&&c.css({left:0,top:0}))}),d.on("swipeleft",function(){$.getJSON(window.apiUrl+"/food/dislike/"+e[i].id+"/"+window.username+"/"),t(!1)}),d.on("swiperight",function(){$.getJSON(window.apiUrl+"/food/like/"+e[i].id+"/"+window.username+"/"),t(!0)}),$("#cant-decide").click(function(){$.getJSON(window.apiUrl+"/food/list/"+window.username,function(t){e=t,n(i)}),$(".instructions").fadeToggle(),$(".dismiss-button").click(function(){$(".instructions").fadeOut()})}),$("#done-screening-btn").click(function(){var t=$(".main-div").children().first().attr("class");$("."+t).shuffle(),$("#modal-cant-decide .modal").animate({marginTop:900},300,function(){$("#modal-cant-decide").removeClass("open")})}),function(t){t.fn.shuffle=function(){var n=this.get(),e=function(t){return Math.floor(Math.random()*t)},i=t.map(n,function(){var i=e(n.length),o=t(n[i]).clone(!0)[0];return n.splice(i,1),o});return this.each(function(n){t(this).replaceWith(t(i[n]))}),t(i)}}(jQuery)}();