!function(){"use strict";function t(t){var i="-100%";t&&(i="100%"),c.animate({left:i,top:0,opacity:0},500,function(){n(++e),c.css({left:0,opacity:1})})}function n(t){t>i.length-1||(c.attr("src","images/"+i[t].photo),c.css({height:$(".modal.short").width()}),$(".modal.short").css({height:$(".modal.short").width()+50+"px"}))}var i,e=0,o=document.getElementById("cant-decide-photo"),c=$("#cant-decide-photo img"),a=new Hammer(o);a.on("panleft panright",function(t){t.deltaX<-100&&t.deltaX>100||(c.css({left:t.deltaX}),4===t.eventType&&c.css({left:0,top:0}))}),a.on("swipeleft",function(){$.getJSON(window.apiUrl+"/food/dislike/"+i[e].id+"/"+window.username+"/"),t(!1)}),a.on("swiperight",function(){$.getJSON(window.apiUrl+"/food/like/"+i[e].id+"/"+window.username+"/"),t(!0)}),$("#cant-decide").click(function(){$.getJSON(window.apiUrl+"/food/list/"+window.username,function(t){i=t,n(e)}),$(".instructions").fadeToggle(),$(".dismiss-button").click(function(){$(".instructions").fadeOut()})}),$("#done-screening-btn").click(function(){var t=$(".main-div").children().first().attr("class");$("."+t).shuffle(),$("#modal-cant-decide .modal").animate({marginTop:900},300,function(){$("#modal-cant-decide").removeClass("open")})}),function(t){t.fn.shuffle=function(){var n=this.get(),i=function(t){return Math.floor(Math.random()*t)},e=t.map(n,function(){var e=i(n.length),o=t(n[e]).clone(!0)[0];return n.splice(e,1),o});return this.each(function(n){t(this).replaceWith(t(e[n]))}),t(e)}}(jQuery)}();