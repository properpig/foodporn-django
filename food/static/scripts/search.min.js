!function(){"use strict";function i(){$(".sort-bar-icon").click(function(){$(".sort-bar-icon").removeClass("selected"),$(this).addClass("selected"),o=$(this).attr("value")}),$("ul.diet-list li").hide().slice(0,4).show(),$("#diet-load").click(function(){e?($("ul.diet-list li").hide().slice(0,4).show(),e=!1,$("#diet-load").html("Load more")):($("ul.diet-list li").show(),e=!0,$("#diet-load").html("Hide"))}),$(".diet-list li").click(function(){$(this).toggleClass("selected"),s=[],$(".diet-list li").each(function(){$(this).hasClass("selected")&&(s[s.length]=$(this).attr("id"))})}),$("ul.cuisine-list li").hide().slice(0,4).show(),$("#cuisine-load").click(function(){l?($("ul.cuisine-list li").hide().slice(0,4).show(),l=!1,$("#cuisine-load").html("Load more")):($("ul.cuisine-list li").show(),l=!0,$("#cuisine-load").html("Hide"))}),$(".cuisine-list li").click(function(){$(this).toggleClass("selected"),n=[],$(".cuisine-list li").each(function(){$(this).hasClass("selected")&&(n[n.length]=$(this).attr("id"))})}),$("ul.amenity-list li").hide().slice(0,4).show(),$("#amenity-load").click(function(){t?($("ul.amenity-list li").hide().slice(0,4).show(),t=!1,$("#amenity-load").html("Load more")):($("ul.amenity-list li").show(),t=!0,$("#amenity-load").html("Hide"))}),$(".amenity-list li").click(function(){$(this).toggleClass("selected"),a=[],$(".amenity-list li").each(function(){$(this).hasClass("selected")&&(a[a.length]=$(this).attr("id"))})}),$(".price-slider").noUiSlider({start:[0,1e3],connect:!0,range:{min:0,max:1e3}}),$(".price-slider").Link("lower").to($(".price-display-low")),$(".price-slider").Link("upper").to($(".price-display-high")),$(".location-slider").noUiSlider({start:[15],connect:"lower",range:{min:0,max:30}}),$(".location-slider").Link("lower").to($(".location-display-low"))}var e=!1,l=!1,t=!1,s=[],n=[],a=[],c="";$.getJSON(window.apiUrl+"/filters/list/",function(e){var l=$("#cuisine-template").html(),t=Handlebars.compile(l);console.log(e);var s={cuisines:e.cuisines};$("#cuisine").append(t(s)),l=$("#diet-template").html(),t=Handlebars.compile(l);var n={diets:e.diets};$("#diet").append(t(n)),l=$("#amenity-template").html(),t=Handlebars.compile(l);var a={amenities:e.amenities};$("#amenity").append(t(a)),i()});var o="";$(".main-buttons").click(function(){c=$("#search").val();var i="&amenity_ids="+a.join()+"&dietary_ids="+s.join()+"&cuisine_ids="+n.join()+"&sort="+o+"&search="+c;window.location="search-results.html?type=food"+i}),$("#search").keyup(function(i){13===i.keyCode&&(c=$("#search").val(),$(".main-buttons").click())})}();