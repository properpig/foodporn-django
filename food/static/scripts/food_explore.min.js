!function(){"use strict";function o(o){$.getJSON(window.apiUrl+"/food/list/"+window.username+"/?explore=true"+o,function(o){n=o,i(0)})}function t(o){var t="-100%";o&&(t="100%"),l.animate({left:t,top:0,opacity:0},500,function(){i(++s),l.css({left:0,opacity:1})})}function i(o){o>n.length-1||($(".info").html(e(n[o])),l.attr("src","images/"+n[o].photo),o+1!==n.length&&(a.attr("src","images/"+n[o+1].photo),a.css("background-image","url(images/"+n[o+2].photo+")")))}var n,c=$("#food-template").html(),e=Handlebars.compile(c),s=0;o("");var d=document.getElementById("food-photo"),l=$("#food-photo img"),a=$("#food-photo2 img"),f=$(".controls .fa-thumbs-o-up"),r=$(".controls .fa-thumbs-o-down");r.click(function(){$.getJSON(window.apiUrl+"/food/dislike/"+n[s].id+"/"+window.username+"/"),t(!1)}),f.click(function(){$.getJSON(window.apiUrl+"/food/like/"+n[s].id+"/"+window.username+"/"),t(!0)}),$(".controls .fa-info").click(function(){window.location="food.html?id="+n[s].id}),$(".controls .fa-question").click(function(){$(".instructions").fadeToggle()}),$(".controls .fa-undo").click(function(){0!==s&&(i(--s),$.getJSON(window.apiUrl+"/food/reset/"+n[s].id+"/"+window.username+"/"))}),$(".dismiss-button").click(function(){$(".instructions").fadeOut()});var u;$(".controls .circle").click(function(){u=$(this),u.addClass("clicked"),setTimeout(function(){u.removeClass("clicked")},400)}),$(".food-container").css({height:$(window).width()}),$("#food-photo img, #food-photo2 img").css({height:$(window).width()});var m=new Hammer(d);m.on("panleft panright tap press",function(o){o.deltaX<-100&&o.deltaX>100||(l.css({left:o.deltaX}),4===o.eventType&&l.css({left:0,top:0}))}),m.on("swipeleft",function(){r.click()}),m.on("swiperight",function(){f.click()}),m.on("press tap",function(){window.location="food.html?id="+n[s].id}),$(".main-buttons .submit").click(function(){var t=getSearchQueryFood();o(t)})}();