function getSearchQueryFood(){"use strict";var e="",i="",t=[],a=[];if($(".sort-filters .filter-icon").each(function(){$(this).hasClass("selected")&&(e=$(this).data("value"))}),i+="&sort="+e,$(".dietary-filters .filter-icon").each(function(){$(this).hasClass("selected")&&t.push($(this).data("id"))}),i+="&dietary_ids="+t.join(),$(".cuisine-filters .filter-icon").each(function(){$(this).hasClass("selected")&&a.push($(this).data("id"))}),i+="&cuisine_ids="+a.join(),$(".other-filters .filter-icon").each(function(){$(this).hasClass("selected")&&(i+="&"+$(this).data("value")+"=true")}),"< "!==$("#price-range .min").text()){var n=$("#price-range .min").text();n=n.substring(1,n.length),i+="&price_min="+n}var r=$("#price-range .max").text();"+"!==r.substring(r.length-1,r.length)&&(r=r.substring(1,r.length),i+="&price_max="+r);var s=$("#distance-range .min").text();"Within "!==s&&(s=s.substring(0,s.length-3),i+="&distance_min="+s);var c=$("#distance-range .max").text();"+"!==c.substring(c.length-1,c.length)&&(c=c.substring(0,c.length-3),i+="&distance_max="+c);var l=$("#search");return l.val()&&(i+="&search="+l.val()),console.log(i),i}!function(){"use strict";function e(){$.getJSON(window.apiUrl+"/filters/list/",function(e){if("people"!==getParameterByName("type")&&"restaurants"!==getParameterByName("type")){$("#modal-filters .modal .filter-area").html(t(e)).promise().done(function(){i()}),$("#modal-filters .modal .filter-area").html()||$(".main-div").html(t(e)),$(".filter-icon.sort").click(function(){$(".filter-icon.sort").removeClass("selected"),$(this).addClass("selected")}),$(".filter-icon.union").click(function(){$(this).toggleClass("selected")}),$("#price-slider").noUiSlider({start:[0,40],connect:!0,range:{min:0,max:60},format:wNumb({mark:",",decimals:0,prefix:"$"})}),$("#price-slider").Link("lower").to($("#price-range .min")),$("#price-slider").Link("upper").to($("#price-range .max")),$("#price-range .min").text("< "),$("#price-range .hyphen").hide(),$("#price-slider").on({slide:function(){"$0"===$("#price-range .min").text()?($("#price-range .min").text("< "),$("#price-range .hyphen").hide()):"< "!==$("#price-range .min").text()&&$("#price-range .hyphen").show(),"$60"===$("#price-range .max").text()&&$("#price-range .max").text("$60+")}}),$("#distance-slider").noUiSlider({start:[0,20],connect:!0,range:{min:0,max:30},format:wNumb({mark:".",decimals:1,postfix:" km"})}),$("#distance-slider").Link("lower").to($("#distance-range .min")),$("#distance-slider").Link("upper").to($("#distance-range .max")),$("#distance-range .min").text("Within "),$("#distance-range .hyphen").hide(),$("#distance-slider").on({slide:function(){"0.0 km"===$("#distance-range .min").text()?($("#distance-range .min").text("Within "),$("#distance-range .hyphen").hide()):"Within "!==$("#distance-range .min").text()&&$("#distance-range .hyphen").show(),"30.0 km"===$("#distance-range .max").text()&&$("#distance-range .max").text("30.0 km+")}});for(var a=4;12>a;a++)$(".cuisine-filters .filter-icon:eq("+a+")").hide();$(".more-cuisines").click(function(){$(".cuisine-filters .filter-icon").show(),$(this).hide()});for(var n=2;6>n;n++)$(".other-filters .filter-icon:eq("+n+")").hide();$(".more-other").click(function(){$(".other-filters .filter-icon").show(),$(this).hide()})}})}function i(){if("/food-liked.html"===window.location.pathname&&$(".other-filters .filter-icon").each(function(){var e=$(this).data("value");"liked"===e&&$(this).addClass("selected")}),0!==window.location.search.substring(1).length){var e=getParameterByName("sort");e.length&&$(".sort-filters .filter-icon").each(function(){$(this).data("value")===e&&$(this).addClass("selected")});var i=getParameterByName("dietary_ids");i.length&&(i=i.split(","),$(".dietary-filters .filter-icon").each(function(){-1!==i.indexOf($(this).data("id").toString())&&$(this).addClass("selected")}));var t=getParameterByName("cuisine_ids");t.length&&(t=t.split(","),$(".cuisine-filters .filter-icon").each(function(){-1!==t.indexOf($(this).data("id").toString())&&$(this).addClass("selected")})),$(".other-filters .filter-icon").each(function(){var e=$(this).data("value");getParameterByName(e)&&$(this).addClass("selected")}),getParameterByName("distance_min")?($("#distance-slider").val([parseInt(getParameterByName("distance_min")),null]),$("#distance-range .hyphen").show()):($("#distance-slider").val([0,null]),$("#distance-range .min").text("Within "),$("#distance-range .hyphen").hide()),getParameterByName("distance_max")?$("#distance-slider").val([null,parseInt(getParameterByName("distance_max"))]):($("#distance-slider").val([null,30]),$("#distance-range .max").text("30.0 km+")),getParameterByName("price_min")?($("#price-slider").val([parseInt(getParameterByName("price_min")),null]),$("#price-range .hyphen").show()):($("#price-slider").val([0,null]),$("#price-range .min").text("< "),$("#price-range .hyphen").hide()),getParameterByName("price_max")?$("#price-slider").val([null,parseInt(getParameterByName("price_max"))]):($("#price-slider").val([null,60]),$("#price-range .max").text("$60+"))}}var t;$.ajax({url:"food-filter.html",success:function(e){t=Handlebars.compile(e)}}).always(function(){e()}),$(".main-buttons .submit-search-redirect").click(function(){var e=getSearchQueryFood();window.location="search-results.html?type=food"+e}),$("#search").keyup(function(e){13===e.keyCode&&($(".main-buttons .submit-search").click(),$(".main-buttons .submit-search-redirect").click(),$(this).blur())})}();