!function(){"use strict";function t(){r=new Hammer(a),r.get("pan").set({direction:Hammer.DIRECTION_ALL}),r.on("panup pandown",function(t){return 4===t.eventType?(c.animate({left:0,top:0},100),void 0):(t.deltaY>100&&(r.off("panup pandown tap press swipeleft swiperight"),$.getJSON(window.apiUrl+"/food/dislike/"+i[o].id+"/"+window.username+"/"),e(!1)),t.deltaY<-100&&(r.off("panup pandown tap press swipeleft swiperight"),$.getJSON(window.apiUrl+"/food/like/"+i[o].id+"/"+window.username+"/"),e(!0)),c.css({top:t.deltaY}),clearTimeout(s),s=setTimeout(function(){c.animate({left:0,top:0},100)},500),void 0)})}function e(e){var i=c.height(),a=i;e&&(a=-i),c.animate({top:a,left:0,opacity:0},500,function(){n(++o),c.css({top:0,opacity:1}),t()})}function n(t){t>i.length-1||(c.attr("src","images/"+i[t].photo),t+1!==i.length&&(d.attr("src","images/"+i[t+1].photo),d.css("background-image","url(images/"+i[t+2].photo+")")),$("#cant-decide-photo img, #cant-decide-photo2 img").css({height:$(".modal.short").width()}))}var i,o=0,a=document.getElementById("cant-decide-photo"),c=$("#cant-decide-photo img"),d=$("#cant-decide-photo2 img");$(".modal.short").css({height:$(".modal.short").width()+50+"px"});var r=new Hammer(a);t();var s;$("#cant-decide").click(function(){$.getJSON(window.apiUrl+"/food/list/"+window.username+"/?explore=true",function(t){i=t,n(o)}),$(".instructions").fadeToggle(),$(".dismiss-button").click(function(){$(".instructions").fadeOut()})}),$("#done-screening-btn").click(function(){var t=$(".main-div").children().first().attr("class");$("."+t).shuffle(),$("#modal-cant-decide .modal").animate({marginTop:900},300,function(){$("#modal-cant-decide").removeClass("open")})}),function(t){t.fn.shuffle=function(){var e=this.get(),n=function(t){return Math.floor(Math.random()*t)},i=t.map(e,function(){var i=n(e.length),o=t(e[i]).clone(!0)[0];return e.splice(i,1),o});return this.each(function(e){t(this).replaceWith(t(i[e]))}),t(i)}}(jQuery)}();