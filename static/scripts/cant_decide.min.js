!function(){"use strict";function t(t){var e="-100%";t&&(e="100%"),c.animate({left:e,top:0,opacity:0},500,function(){n(++i),c.css({left:0,opacity:1})})}function n(t){t>e.length-1||(c.attr("src","images/"+e[t].photo),c.css({height:$(".modal.short").width()}),$(".modal.short").css({height:$(".modal.short").width()+50+"px"}))}var e,i=0,o=document.getElementById("cant-decide-photo"),c=$("#cant-decide-photo img"),a=new Hammer(o);a.on("panleft panright",function(t){t.deltaX<-100&&t.deltaX>100||(c.css({left:t.deltaX}),4===t.eventType&&c.css({left:0,top:0}))}),a.on("swipeleft",function(){$.getJSON(window.apiUrl+"/food/dislike/"+e[i].id+"/"+window.username+"/"),t(!1)}),a.on("swiperight",function(){$.getJSON(window.apiUrl+"/food/like/"+e[i].id+"/"+window.username+"/"),t(!0)}),$("#cant-decide").click(function(){$.getJSON(window.apiUrl+"/food/list/"+window.username,function(t){e=t,n(i)}),$(".instructions").fadeToggle(),$(".dismiss-button").click(function(){$(".instructions").fadeOut()})}),$("#done-screening-btn").click(function(){$(".restaurant-item").shuffle(),$("#modal-cant-decide .modal").animate({marginTop:900},300,function(){$("#modal-cant-decide").removeClass("open")})}),function(t){t.fn.shuffle=function(){var n=this.get(),e=function(t){return Math.floor(Math.random()*t)},i=t.map(n,function(){var i=e(n.length),o=t(n[i]).clone(!0)[0];return n.splice(i,1),o});return this.each(function(n){t(this).replaceWith(t(i[n]))}),t(i)}}(jQuery)}();